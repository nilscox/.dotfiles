// #!/bin/bash

// CONFIG_FILES="$HOME/.config/waybar/config $HOME/.config/waybar/style.css"

// trap "killall waybar" EXIT

// while true; do
//     waybar &
//     inotifywait -e create,modify $CONFIG_FILES
//     killall waybar
// done

[
  {
    "position": "top",
    "modules-left": ["sway/workspaces", "sway/mode"],
    "modules-center": ["clock"],
    "modules-right": [
      // "custom/random",
      "custom/gnma",
      "custom/weather",
      "backlight",
      "pulseaudio",
      "network",
      "battery",
      "tray"
    ],
    "sway/workspaces": {
      "format": "{icon}",
      "format-icons": {
        "1": "1:web",
        "2": "2:sh$",
        "3": "3:&lt;/&gt;",
        "4": "4:o&lt;"
      }
    },
    "custom/gnma": {
      "format": "ÔÅ≥ {}",
      "interval": 5,
      "exec": "gnome-next-meeting-applet dbus get_event",
      "exec-if": "pgrep -f gnome-next-meeting-applet",
      "max-length": 50,
      "min-length": 1,
      "on-click": "gnome-next-meeting-applet dbus open_event_url"
    },
    "clock": {
      "interval": 1,
      "format-alt": "{:%a, %d. %b  %H:%M:%S}",
      "tooltip-format": "<big>{:%Y %B}</big>\n<tt><small>{calendar}</small></tt>"
    },
    "custom/weather": {
      "exec": "curl 'https://wttr.in/?format=1'",
      "interval": 600
    },
    "custom/random": {
      "exec": "while true; do echo $RANDOM; sleep 0.1; done"
    },
    "backlight": {
      "device": "intel_backlight",
      "format": "{icon} {percent}%",
      "format-icons": ["ÔÜÖ"],
      "on-scroll-up": "brightnessctl set +1%",
      "on-scroll-down": "brightnessctl set 1%-"
    },
    "pulseaudio": {
      "format": "{icon} {volume}%",
      "format-bluetooth": "{volume}% {icon}Ôäî",
      "format-muted": "üîá",
      "format-icons": {
        "default": ["üîà", "üîâ", "üîä"]
      },
      "scroll-step": 1,
      "on-click": "pactl set-sink-mute @DEFAULT_SINK@ toggle",
      "on-click-right": "pavucontrol"
    },
    "network": {
      "interface": "wlan0",
      "format-wifi": "Ôá´ {essid} ({signalStrength}%)",
      "format-disconnected": "not connected"
    },
    "battery": {
      "states": {
        "warning": 25,
        "critical": 10
      },
      "format": "{capacity}% {icon}",
      "format-charging": "{capacity}% Ôóß",
      "format-plugged": "{capacity}% Ôá¶",
      "format-icons": ["ÔâÑ", "ÔâÉ", "ÔâÇ", "ÔâÅ", "ÔâÄ"]
    },
    "tray": {
      "spacing": 10
    }
  },
  {
    "position": "bottom",
    "modules-left": [
      "cpu",
      "temperature",
      "memory",
      "disk#root",
      "disk#home",
      "disk#tmp"
    ],
    "modules-right": ["custom/ip", "network#local-ip", "network#bandwidth"],
    "cpu": {
      "interval": 10,
      "format": "cpu: {usage}% ({load})",
      "on-click": "terminator -e htop"
    },
    "temperature": {
      "critical-threshold": 80,
      "format": "temp: {temperatureC}¬∞C"
    },
    "memory": {
      "interval": 30,
      "format": "ram: {used:0.1f}G/{total:0.1f}G",
      "on-click": "terminator -e htop"
    },
    "disk#root": {
      "interval": 30,
      "format": "/: {used} ({percentage_used}%)",
      "path": "/",
      "tooltip-format": "{used} used out of {total} ({percentage_free}% remaining)"
    },
    "disk#home": {
      "interval": 30,
      "format": "/home: {used} ({percentage_used}%)",
      "path": "/home",
      "tooltip-format": "{used} used out of {total} ({percentage_free}% remaining)"
    },
    "disk#tmp": {
      "interval": 30,
      "format": "{path}: {used} ({percentage_used}%)",
      "path": "/tmp",
      "tooltip-format": "{used} used out of {total} ({percentage_free}% remaining)"
    },
    "custom/ip": {
      "format": "{}",
      "exec": "curl -s https://ifconfig.me",
      "exec-if": "ping 8.8.8.8",
      "restart-interval": 300
    },
    "network#local-ip": {
      "format": "{ipaddr}"
    },
    "network#bandwidth": {
      "format": "‚Üë {bandwidthUpBits} ‚Üì {bandwidthDownBits}"
    }
  }
]
